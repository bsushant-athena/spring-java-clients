<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="e2d1c2d9-bcf4-4d85-a99e-6426c495b56e" activeEnvironment="Default" name="Generic client Project" resourceRoot="${projectDir}" soapui-version="5.3.0" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.actions.iface.tools.soapui.TestRunnerAction@values-local"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Environment" value="Default"/>
  <con:entry key="Global Properties" value=""/>
  <con:entry key="TestSuite" value="Gateway Public Service TestSuite"/>
  <con:entry key="Password" value=""/>
  <con:entry key="TestRunner Path" value=""/>
  <con:entry key="Tool Args" value=""/>
  <con:entry key="Ignore Errors" value="false"/>
  <con:entry key="Host:Port" value=""/>
  <con:entry key="user-settings.xml Password" value=""/>
  <con:entry key="WSS Password Type" value=""/>
  <con:entry key="Save Project" value="false"/>
  <con:entry key="Enable UI" value="false"/>
  <con:entry key="System Properties" value=""/>
  <con:entry key="Domain" value=""/>
  <con:entry key="Coverage Report" value="false"/>
  <con:entry key="Export JUnit Results" value="false"/>
  <con:entry key="Export JUnit Results with test properties" value="false"/>
  <con:entry key="Open Report" value="false"/>
  <con:entry key="Project Properties" value=""/>
  <con:entry key="Export All" value="false"/>
  <con:entry key="Project Password" value=""/>
  <con:entry key="Report Format(s)" value=""/>
  <con:entry key="TestCase" value="&lt;all>"/>
  <con:entry key="Print Report" value="false"/>
  <con:entry key="Username" value=""/>
  <con:entry key="Root Folder" value=""/>
  <con:entry key="Select Report Type" value=""/>
  <con:entry key="Save After" value="false"/>
  <con:entry key="Add Settings" value="false"/>
  <con:entry key="Endpoint" value=""/>
</xml-fragment>]]></con:setting></con:settings><con:interface xsi:type="con:RestService" id="5aa0c692-6196-463e-8173-97e726c31052" wadlVersion="http://wadl.dev.java.net/2009/02" name="Gateway Service Endpoints" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>${Properties#Server_url}</con:endpoint></con:endpoints><con:resource name="redirect" path="/public/${#Project#client_name}/redirect" id="fd481912-0d6d-409d-937c-4e845f3dac2f"><con:settings/><con:parameters/><con:method name="" id="f6ad9179-3de2-4813-a92d-2512c4d7964f" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>text/html;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>500 404</con:status><con:params/><con:element xmlns:red="https://localhost/public/zuul/node2/redirect.html">red:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:red="https://localhost/public/zuul/node2/redirect.html">red:Response</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/plain;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" id="31940fde-6b77-4884-9a6e-7a00e7d458f6" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#Server_url}</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="/public/node2/setCookie" path="/public/${#Project#client_name}/setCookie" id="5a1ddbbc-07b2-488c-a4ba-ee9010fc1e12"><con:settings/><con:parameters/><con:method name="Method 1" id="c255dc77-0467-4cdb-b220-5f71a18f3b00" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>text/html;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>404</con:status><con:params/><con:element xmlns:set="https://localhost/public/node2/setCookie">set:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/plain;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" id="7050089b-7bf9-4a31-89f7-10701ec58923" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#Server_url}</con:endpoint><con:request/><con:originalUri>https://satdevv713.athenahealth.com/public/simple-java-client/setCookie</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="/public/node2/verifyCookie" path="/public/${#Project#client_name}/verifyCookie" id="fea109e0-56bb-42c0-ae15-57e1ee7450f6"><con:settings/><con:parameters/><con:method name="Method 1" id="1bbf91ec-f4ee-4f90-9f74-c744edfa2288" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>text/html;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element>html</con:element></con:representation><con:request name="Request 1" id="f4f77c59-5c00-405a-86d5-19b57bfcb03b" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#Server_url}</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="public/node2/setHeader" path="/public/${#Project#client_name}/setHeader" id="23926f29-c1ff-4782-9237-43b541961b81"><con:settings/><con:parameters/><con:method name="Method 1" id="5e3d0a6a-a664-47dd-90c2-3832d086464f" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>404 500</con:status><con:params/><con:element xmlns:set="https://satdevv713.athenahealth.com/public/simple-java-client/setHeader">set:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/plain;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" id="f0b697d3-8114-494a-95ff-156572889d29" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#Server_url}</con:endpoint><con:request/><con:originalUri>https://satdevv713.athenahealth.com/public/simple-java-client/setHeader</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="public/node2/readHeader" path="/public/${#Project#client_name}/readHeader" id="d4d0357b-fdd6-4719-98fe-76ed7a2bdf16"><con:settings/><con:parameters/><con:method name="Method 1" id="9f875f42-018a-4429-9ee5-2b6fa4a82b27" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>text/html;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element>html</con:element></con:representation><con:request name="Request 1" id="c0af002b-a3ab-45e5-b1e0-38c223bc9576" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#Server_url}</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="health" path="/public/${#Project#client_name}/health" id="5781e888-17b7-42a5-8330-cfc0a1bd069d"><con:settings/><con:parameters><con:parameter><con:name>#Project#client_name</con:name><con:value>#Project#client_name</con:value><con:style>TEMPLATE</con:style><con:default>#Project#client_name</con:default></con:parameter></con:parameters><con:method name="Method 1" id="46fd93be-8072-4edc-9c59-8339d061e350" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="11e41c4a-8d4d-4673-b783-d894e65e5cc7" mediaType="application/json"><con:settings/><con:endpoint>${#Project#Server_url}</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="806504eb-e473-443e-847e-44f958a6fe78" wadlVersion="http://wadl.dev.java.net/2009/02" name="Auth Service Endpoint" type="rest" basePath="" definitionUrl="/Users/hraka/Perforce/Auth Service Endpoint.wadl/Auth Service Endpoint_1.wadl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints><con:endpoint>http://localhost:20020</con:endpoint></con:endpoints><con:resource name="Token" path="/oauth2/token" id="ef8e269e-486c-4ddd-bf02-77a0dedd4443"><con:settings/><con:parameters><con:parameter><con:name>scope</con:name><con:value>demoscope1</con:value><con:style>QUERY</con:style><con:default>demoscope1</con:default></con:parameter><con:parameter><con:name>grant_type</con:name><con:value>client_credentials</con:value><con:style>QUERY</con:style><con:default>client_credentials</con:default></con:parameter></con:parameters><con:method name="Token 1" id="79670268-a756-461c-ab99-0c451a4e2fa9" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST" id=""><con:mediaType>application/x-www-form-urlencoded</con:mediaType><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType/><con:status>0</con:status><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>application/x-www-form-urlencoded</con:mediaType><con:status/><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:representation type="FAULT" id=""><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>400</con:status><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:representation type="FAULT" id=""><con:mediaType>text/html; charset=utf-8</con:mediaType><con:status>403</con:status><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:representation type="RESPONSE" id=""><con:mediaType>application/json;charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element xsi:nil="true"/><con:description xsi:nil="true"/></con:representation><con:request name="Request 1" id="dc5648f8-ba0f-48b8-8452-0762305125eb" mediaType="application/x-www-form-urlencoded" postQueryString="false"><con:settings/><con:endpoint>http://localhost:20020</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="00edd294-6681-496d-9933-045b098c2036" wadlVersion="http://wadl.dev.java.net/2009/02" name="Gateway Private Services" type="rest" basePath="" definitionUrl="/Users/hraka/Perforce/Gateway Private Services.wadl/Gateway Private Services_1.wadl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart="file:/Users/hraka/Perforce/Gateway%20Private%20Services.wadl/Gateway%20Private%20Services_1.wadl"><con:part><con:url>file:/Users/hraka/Perforce/Gateway%20Private%20Services.wadl/Gateway%20Private%20Services_1.wadl</con:url><con:content><![CDATA[<application xmlns="http://wadl.dev.java.net/2009/02">
  <doc xml:lang="en" title="Gateway Private Services"/>
  <resources base="https://localhost:18443">
    <resource path="" id="Private Gateway Endpoint">
      <doc xml:lang="en" title="Private Gateway Endpoint"/>
      <method name="GET" id="Get Private Service Endpoints">
        <doc xml:lang="en" title="Get Private Service Endpoints"/>
        <request/>
        <response status="">
          <representation mediaType="application/json"/>
        </response>
        <response status="404">
          <representation mediaType="text/html"/>
        </response>
        <response status="0">
          <representation mediaType=""/>
          <representation mediaType=""/>
          <representation mediaType=""/>
          <representation mediaType=""/>
          <representation mediaType=""/>
          <representation mediaType=""/>
          <representation mediaType=""/>
          <representation mediaType=""/>
          <representation mediaType=""/>
          <representation mediaType=""/>
          <representation mediaType=""/>
        </response>
      </method>
    </resource>
  </resources>
</application>]]></con:content><con:type>http://wadl.dev.java.net/2009/02</con:type></con:part></con:definitionCache><con:endpoints><con:endpoint>https://localhost:18443</con:endpoint></con:endpoints><con:resource name="/node2/setCookie" path="/${#Project#client_name}/setCookie" id="fcb5fa26-dfc5-4642-9dfc-41aafb7cc75f"><con:settings/><con:parameters/><con:method name="Method 1" id="7d9b0be9-7fa2-46c2-92ea-e587b5dbf704" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="1b28b77a-bba8-416e-b384-2b0228fe2248" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#Server_url}</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="verifyCookie" path="/${#Project#client_name}/verifyCookie" id="4e11ba1b-9ecd-4c47-ae1c-1af4cb0817e6"><con:settings/><con:parameters/><con:method name="Method 1" id="34ebe81c-a641-4ba0-9735-393ded76712e" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="619068c7-f475-477a-a815-48510570feaa" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#Server_url}</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="readHeader" path="/${#Project#client_name}/readHeader" id="8b373af3-f94d-4638-8361-be6439b8f827"><con:settings/><con:parameters/><con:method name="Method 1" id="cc23c93a-6062-4d56-a4eb-6e2b0d2d4814" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="08e8b584-1aca-43ff-a72c-146e17fb2524" mediaType="application/json"><con:settings/><con:endpoint>${#Project#Server_url}</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="setHeader" path="/${#Project#client_name}/setHeader" id="10e67581-beea-41c9-b700-1740cdc2957d"><con:settings/><con:parameters/><con:method name="Method 1" id="ab3b38a6-0302-49a3-ae2f-fb0ead04a1ce" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="cdd62b67-de01-4d06-aa0e-1833d8384284" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#Server_url}</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="health" path="/${#Project#client_name}/health" id="9c1fea4d-e070-458d-ae5d-2e7667fb0ea9"><con:settings/><con:parameters><con:parameter><con:name>#Project#client_name</con:name><con:value>#Project#client_name</con:value><con:style>TEMPLATE</con:style><con:default>#Project#client_name</con:default></con:parameter></con:parameters><con:method name="Method 1" id="6d81564f-d123-47ea-908b-aab9a226315b" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="848fa5f2-bf7d-4d8f-ad5a-9a93433c8dbe" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#Server_url}</con:endpoint><con:request/><con:originalUri>https://localhost/login.html</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:testSuite id="ed2f9e5b-4960-4fa8-abdd-978aaa6dc3f7" name="Gateway Public Service TestSuite"><con:description>TestSuite generated for REST Service [Gateway Service Endpoints]</con:description><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="24803c8a-ea85-4c81-a27c-d74ab1271cd5" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Redirect TestCase" searchProperties="true"><con:description>TestCase generated for REST Resource [redirect] located at [/public/zuul/node2/redirect/]</con:description><con:settings/><con:testStep type="restrequest" name="Request 1" id="7c5e05b8-a37a-4aad-b1db-abe4bea0dc67"><con:settings/><con:config service="Gateway Service Endpoints" resourcePath="/public/${#Project#client_name}/redirect" methodName="" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Request 1" id="31940fde-6b77-4884-9a6e-7a00e7d458f6" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#Server_url}</con:endpoint><con:request/><con:originalUri>https://localhost/public/zuul/node2/redirect.html</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="21ff84e0-366c-4e07-a42e-818f9d5057b9" name="Valid HTTP Status Codes"><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" id="8fd5eb81-7452-4157-a3f8-071279e38e1d" name="Contains"><con:configuration><token>Welcome</token><ignoreCase>true</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="255bdb5a-3af8-4c00-a2ae-edf39fc55866" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Cookie TestCase" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="setCookieCall" id="71b0ed03-ddfa-4949-9230-a991cb629b83"><con:settings/><con:config service="Gateway Service Endpoints" resourcePath="/public/${#Project#client_name}/setCookie" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="setCookieCall" id="7050089b-7bf9-4a31-89f7-10701ec58923" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#Server_url}</con:endpoint><con:request/><con:originalUri>https://localhost/public/node2/setCookie</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="b9ed28a4-fef5-4de2-8705-e3b2acdd1ff5" name="Valid HTTP Status Codes"><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" id="2ac05874-4b3c-4553-9b82-b33251f89037" name="Contains"><con:configuration><token>Set Cookie page</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="53bd7326-163d-48c2-ba00-0df495f49878" name="Cookie Contains"><con:configuration><token/><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Cookie Transfer" id="c9747770-a337-47b7-a86d-a12090d6e91b"><con:settings/><con:config><script>
def setCookie = testRunner.testCase.testSteps["setCookieCall"].testRequest.response.responseHeaders["Set-Cookie"]

def re = /(testCookie=.*(,|]))/

def matcher = ( setCookie =~ re )

def cookieNotFinal = matcher[0][0]

def cookie = cookieNotFinal.getAt(0..cookieNotFinal.length()-2)

//no need to verify if present or not because matcher will throw ArrayOutOfBound exception
log.info ("This is the value:" + cookie)

def map=[:]

testRunner.testCase.testSteps["verifyCookieCall"].testRequest.requestHeaders=map

def headers=testRunner.testCase.testSteps["verifyCookieCall"].testRequest.requestHeaders

headers.put("Cookie", cookie)

testRunner.testCase.testSteps["verifyCookieCall"].testRequest.requestHeaders=headers
</script></con:config></con:testStep><con:testStep type="restrequest" name="verifyCookieCall" id="dcdb5d42-bdeb-4537-a989-79812a6b58fd"><con:settings/><con:config service="Gateway Service Endpoints" resourcePath="/public/${#Project#client_name}/verifyCookie" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="verifyCookieCall" id="f4f77c59-5c00-405a-86d5-19b57bfcb03b" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Cookie" value="testCookie=BAM" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>${#Project#Server_url}</con:endpoint><con:request/><con:originalUri>https://localhost/public/node2/verifyCookie</con:originalUri><con:assertion type="Simple Contains" id="beb31638-2ba8-4662-819f-822123a4493d" name="Contains"><con:configuration><token>Verified</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" id="c84c18a2-1341-45e3-9c5d-d259f9b90218" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="15a90d19-99ce-49be-ae04-97b0e26cea91" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Header TestCase" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="SetHeader" id="e8c393e0-7309-421f-bce6-e9910c05b473"><con:settings/><con:config service="Gateway Service Endpoints" resourcePath="/public/${#Project#client_name}/setHeader" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="SetHeader" id="f0b697d3-8114-494a-95ff-156572889d29" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#Server_url}</con:endpoint><con:request/><con:originalUri>https://localhost/public/node2/setHeader</con:originalUri><con:assertion type="Simple Contains" id="5bd7b576-d010-48df-ae05-77a839b87b16" name="Contains"><con:configuration><token>Setting headers</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" id="4203e742-d0cb-4015-9415-f511fe6e628d" name="Valid HTTP Status Codes"><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="verifyHeader" id="634fabda-3a08-4002-8a13-b3d1a37a4074"><con:settings/><con:config><script>def customHeader = testRunner.testCase.testSteps["SetHeader"].testRequest.response.responseHeaders["X-MyCustom-Header"]

def customHeaderVal = customHeader[0]

log.info ("This is the value:" + customHeaderVal)

assert customHeaderVal == "C3PO"
</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="cff56df6-497a-4ab5-931d-59e8de323ed2" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Send header TestCase : Negative" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="readHeader" id="1bf454e0-bda3-4630-96f8-b73e41a4538e"><con:settings/><con:config service="Gateway Service Endpoints" resourcePath="/public/${#Project#client_name}/readHeader" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="readHeader" id="c0af002b-a3ab-45e5-b1e0-38c223bc9576" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#Server_url}</con:endpoint><con:request/><con:originalUri>https://localhost/public/node2/readHeader</con:originalUri><con:assertion type="Simple Contains" id="c3605a57-2f82-4351-a34f-c6977c5e9373" name="Contains"><con:configuration><token>Uh-Oh</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" id="8c78815f-a599-499a-85df-7a496b7c6c86" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="0d6e16c8-800f-425c-b215-76b347508c7d" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Send header TestCase : Positive" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="readHeader" id="0097ca82-a656-4f10-92a5-6af444930193"><con:settings/><con:config service="Gateway Service Endpoints" resourcePath="/public/${#Project#client_name}/readHeader" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="readHeader" id="c0af002b-a3ab-45e5-b1e0-38c223bc9576" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="X-MyCustom-Header" value="C3PO" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>${#Project#Server_url}</con:endpoint><con:request/><con:originalUri>https://localhost/public/node2/readHeader</con:originalUri><con:assertion type="Simple Contains" id="c3605a57-2f82-4351-a34f-c6977c5e9373" name="Contains"><con:configuration><token>Success</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" id="8c78815f-a599-499a-85df-7a496b7c6c86" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="995c1151-d37f-415c-a248-89e7d75ae584" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Health TestCase" searchProperties="true"><con:description>Check health of client</con:description><con:settings/><con:testStep type="restrequest" name="Request 1" id="63150766-4dbe-4721-965d-4011a7c0a5e4"><con:settings/><con:config service="Gateway Service Endpoints" resourcePath="/public/${#Project#client_name}/health" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Request 1" id="31940fde-6b77-4884-9a6e-7a00e7d458f6" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#Server_url}</con:endpoint><con:request/><con:originalUri>https://localhost/public/zuul/node2/redirect.html</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="21ff84e0-366c-4e07-a42e-818f9d5057b9" name="Valid HTTP Status Codes"><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" id="8fd5eb81-7452-4157-a3f8-071279e38e1d" name="Contains"><con:configuration><token>UP</token><ignoreCase>true</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:testSuite id="6863ee7f-a778-42fd-bf22-e12af0a4793a" name="Gateway Private Services TestSuite"><con:description>TestSuite generated for REST Service [Gateway Private Services]</con:description><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="856a1c40-a31f-4b4f-b835-1477efabb435" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Cookie TestCase" searchProperties="true"><con:description>For testing of cookies for gateway for private routes</con:description><con:settings/><con:testStep type="restrequest" name="FetchBearerToken" id="12f33563-78cf-4d9e-a8fa-30609ff18098"><con:settings/><con:config service="Auth Service Endpoint" resourcePath="/oauth2/token" methodName="Token 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchBearerToken" id="dc5648f8-ba0f-48b8-8452-0762305125eb" mediaType="application/x-www-form-urlencoded" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Basic RzgwSWkzblZZNnhCaG1MOXViSWQ6YnNVX0x6M3hsRFNrQnpFYm82azRTVEJjZkZ6SmxsVy1Vbi10YjdPLQ==" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>${#Project#auth_server_url}</con:endpoint><con:request/><con:originalUri>http://localhost/oauth2/token</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="delay" name="WaitForResponse" id="14187889-7883-48e4-a95c-a8186efc4cb4" disabled="true"><con:settings/><con:config><delay>500</delay></con:config></con:testStep><con:testStep type="transfer" name="TransferToken" id="1c121e5e-d764-4736-9679-b552a26e6c73"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>BearerToken</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>FetchBearerToken</con:sourceStep><con:sourcePath>$.access_token</con:sourcePath><con:targetType>Request</con:targetType><con:targetStep>setCookieCall</con:targetStep><con:type>JSONPATH</con:type><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>BearerToken</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>FetchBearerToken</con:sourceStep><con:sourcePath>$.access_token</con:sourcePath><con:targetType>Request</con:targetType><con:targetStep>verifyCookieCall</con:targetStep><con:type>JSONPATH</con:type><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>BearerToken</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>FetchBearerToken</con:sourceStep><con:sourcePath>$.access_token</con:sourcePath><con:targetType>auth_token</con:targetType><con:targetStep>Properties</con:targetStep><con:targetPath/><con:type>JSONPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="properties" name="Properties" id="8b172e8b-3d4d-4fc5-bd3c-53a8896b1326"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>auth_token</con:name><con:value>eyJhbGciOiJSUzI1NiIsImtpZCI6Ing4WTQwRjdOeWswZ1BXMVRCN2M0QlI0NGN4MGVya1RiZFJuM2Z1YXFkdjgifQ.eyJ2ZXIiOjEsImp0aSI6IkFULnBTOGRlSHVha1FocDRtMDFlS0FlUjBPaWJ1UFpyLUNoaDlzeEdFcVFyQmciLCJpc3MiOiJodHRwczovL2F0aGVuYWhlYWx0aHBvYy5va3RhLmNvbS9vYXV0aDIvYXVzMTNrYnRqNEhBZEkzNDUxdDciLCJhdWQiOiJodHRwczovL2lhbS5hdGhlbmFoZWFsdGguY29tIiwiaWF0IjoxNDkwMDc2MjAxLCJleHAiOjE0OTAwNzk4MDEsImNpZCI6Ikc4MElpM25WWTZ4QmhtTDl1YklkIiwic2NwIjpbImRlbW9zY29wZTEiXSwic3ViIjoiRzgwSWkzblZZNnhCaG1MOXViSWQiLCJoZWxwVXNlciI6ImFqb2dlc2h3YXJAYXRoZW5haGVhbHRoLmNvbSJ9.drKjBU-8SrpB3PzS81n2d1LSPCoCO-93oKu8t1GbjfuY_IAPE6xWGMVeqjcMS5rXWLqsRMeTNIe2GROI-qc3B220FT7MZ9gKYPosZLzadUx7uM-Up7vnAEGE6uMVvh3OGAY5qdrhzgCyIq9sCfzRnYeBU8YuWNROfQMnzg9brN9GxF9EmjeT9yzu8r7M_T42PJKAz9MaKik97Cd9Pwcxzq4XZ-tUGZEC5vsgyWGQLiae6PUZ-gOvVw7iYWFMhusANiQ4M2C0ZMyZL3Yebv73DwQTBMSw5kHDYOwjn2-614eloAZDM24qYpXm-EkkIGuKKa0-elZfAl6bxadc8SeA9w</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="restrequest" name="setCookieCall" id="4267cd16-5ef5-4298-b3f6-2f7fb10404fe"><con:settings/><con:config service="Gateway Private Services" resourcePath="/${#Project#client_name}/setCookie" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="setCookieCall" id="1b28b77a-bba8-416e-b384-2b0228fe2248" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${Properties#auth_token}"/>
  &lt;con:entry key="Content-Type" value="application/json"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>${#Project#Server_url}</con:endpoint><con:request>eyJhbGciOiJSUzI1NiIsImtpZCI6Ing4WTQwRjdOeWswZ1BXMVRCN2M0QlI0NGN4MGVya1RiZFJuM2Z1YXFkdjgifQ.eyJ2ZXIiOjEsImp0aSI6IkFULnBTOGRlSHVha1FocDRtMDFlS0FlUjBPaWJ1UFpyLUNoaDlzeEdFcVFyQmciLCJpc3MiOiJodHRwczovL2F0aGVuYWhlYWx0aHBvYy5va3RhLmNvbS9vYXV0aDIvYXVzMTNrYnRqNEhBZEkzNDUxdDciLCJhdWQiOiJodHRwczovL2lhbS5hdGhlbmFoZWFsdGguY29tIiwiaWF0IjoxNDkwMDc2MjAxLCJleHAiOjE0OTAwNzk4MDEsImNpZCI6Ikc4MElpM25WWTZ4QmhtTDl1YklkIiwic2NwIjpbImRlbW9zY29wZTEiXSwic3ViIjoiRzgwSWkzblZZNnhCaG1MOXViSWQiLCJoZWxwVXNlciI6ImFqb2dlc2h3YXJAYXRoZW5haGVhbHRoLmNvbSJ9.drKjBU-8SrpB3PzS81n2d1LSPCoCO-93oKu8t1GbjfuY_IAPE6xWGMVeqjcMS5rXWLqsRMeTNIe2GROI-qc3B220FT7MZ9gKYPosZLzadUx7uM-Up7vnAEGE6uMVvh3OGAY5qdrhzgCyIq9sCfzRnYeBU8YuWNROfQMnzg9brN9GxF9EmjeT9yzu8r7M_T42PJKAz9MaKik97Cd9Pwcxzq4XZ-tUGZEC5vsgyWGQLiae6PUZ-gOvVw7iYWFMhusANiQ4M2C0ZMyZL3Yebv73DwQTBMSw5kHDYOwjn2-614eloAZDM24qYpXm-EkkIGuKKa0-elZfAl6bxadc8SeA9w</con:request><con:originalUri>https://localhost/node2/setCookie</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="f0c867bd-edc7-412e-8bb7-23f0779f100a" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" id="0820a8d2-fc4f-4f12-b074-298285596332" name="Contains"><con:configuration><token>Set Cookie page</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Cookie Transfer" id="51ee3757-7647-4544-ab51-b201fecec161"><con:settings/><con:config><script>
import groovy.json.JsonSlurper

def setCookie = testRunner.testCase.testSteps["setCookieCall"].testRequest.response.responseHeaders["Set-Cookie"]

def re = /(testCookie=.*(,|]))/

def matcher = ( setCookie =~ re )

def cookieNotFinal = matcher[0][0]

def cookie = cookieNotFinal.getAt(0..cookieNotFinal.length()-2)

//no need to verify if present or not because matcher will throw ArrayOutOfBound exception
log.info ("This is the value:" + cookie)

def map=[:]

testRunner.testCase.testSteps["verifyCookieCall"].testRequest.requestHeaders=map

def headers=testRunner.testCase.testSteps["verifyCookieCall"].testRequest.requestHeaders

log.info("Value of headers" + headers);

headers.put("Cookie", cookie)

def ResponseMessage = testRunner.testCase.testSteps["FetchBearerToken"].testRequest.response.responseContent
//grab the response

//define a JsonSlurper
def jsonSlurper = new JsonSlurper().parseText(ResponseMessage)

headers.put("Authorization", "Bearer " + jsonSlurper.access_token)

log.info("Value of headers" + headers);

testRunner.testCase.testSteps["verifyCookieCall"].testRequest.requestHeaders=headers
</script></con:config></con:testStep><con:testStep type="restrequest" name="verifyCookieCall" id="b8736489-cd0e-4712-a3af-21f17d030f18"><con:settings/><con:config service="Gateway Private Services" resourcePath="/${#Project#client_name}/verifyCookie" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="verifyCookieCall" id="619068c7-f475-477a-a815-48510570feaa" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6Ing4WTQwRjdOeWswZ1BXMVRCN2M0QlI0NGN4MGVya1RiZFJuM2Z1YXFkdjgifQ.eyJ2ZXIiOjEsImp0aSI6IkFULnBTOGRlSHVha1FocDRtMDFlS0FlUjBPaWJ1UFpyLUNoaDlzeEdFcVFyQmciLCJpc3MiOiJodHRwczovL2F0aGVuYWhlYWx0aHBvYy5va3RhLmNvbS9vYXV0aDIvYXVzMTNrYnRqNEhBZEkzNDUxdDciLCJhdWQiOiJodHRwczovL2lhbS5hdGhlbmFoZWFsdGguY29tIiwiaWF0IjoxNDkwMDc2MjAxLCJleHAiOjE0OTAwNzk4MDEsImNpZCI6Ikc4MElpM25WWTZ4QmhtTDl1YklkIiwic2NwIjpbImRlbW9zY29wZTEiXSwic3ViIjoiRzgwSWkzblZZNnhCaG1MOXViSWQiLCJoZWxwVXNlciI6ImFqb2dlc2h3YXJAYXRoZW5haGVhbHRoLmNvbSJ9.drKjBU-8SrpB3PzS81n2d1LSPCoCO-93oKu8t1GbjfuY_IAPE6xWGMVeqjcMS5rXWLqsRMeTNIe2GROI-qc3B220FT7MZ9gKYPosZLzadUx7uM-Up7vnAEGE6uMVvh3OGAY5qdrhzgCyIq9sCfzRnYeBU8YuWNROfQMnzg9brN9GxF9EmjeT9yzu8r7M_T42PJKAz9MaKik97Cd9Pwcxzq4XZ-tUGZEC5vsgyWGQLiae6PUZ-gOvVw7iYWFMhusANiQ4M2C0ZMyZL3Yebv73DwQTBMSw5kHDYOwjn2-614eloAZDM24qYpXm-EkkIGuKKa0-elZfAl6bxadc8SeA9w"/>
  &lt;con:entry key="Cookie" value="testCookie=BAM"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>${#Project#Server_url}</con:endpoint><con:request>eyJhbGciOiJSUzI1NiIsImtpZCI6Ing4WTQwRjdOeWswZ1BXMVRCN2M0QlI0NGN4MGVya1RiZFJuM2Z1YXFkdjgifQ.eyJ2ZXIiOjEsImp0aSI6IkFULnBTOGRlSHVha1FocDRtMDFlS0FlUjBPaWJ1UFpyLUNoaDlzeEdFcVFyQmciLCJpc3MiOiJodHRwczovL2F0aGVuYWhlYWx0aHBvYy5va3RhLmNvbS9vYXV0aDIvYXVzMTNrYnRqNEhBZEkzNDUxdDciLCJhdWQiOiJodHRwczovL2lhbS5hdGhlbmFoZWFsdGguY29tIiwiaWF0IjoxNDkwMDc2MjAxLCJleHAiOjE0OTAwNzk4MDEsImNpZCI6Ikc4MElpM25WWTZ4QmhtTDl1YklkIiwic2NwIjpbImRlbW9zY29wZTEiXSwic3ViIjoiRzgwSWkzblZZNnhCaG1MOXViSWQiLCJoZWxwVXNlciI6ImFqb2dlc2h3YXJAYXRoZW5haGVhbHRoLmNvbSJ9.drKjBU-8SrpB3PzS81n2d1LSPCoCO-93oKu8t1GbjfuY_IAPE6xWGMVeqjcMS5rXWLqsRMeTNIe2GROI-qc3B220FT7MZ9gKYPosZLzadUx7uM-Up7vnAEGE6uMVvh3OGAY5qdrhzgCyIq9sCfzRnYeBU8YuWNROfQMnzg9brN9GxF9EmjeT9yzu8r7M_T42PJKAz9MaKik97Cd9Pwcxzq4XZ-tUGZEC5vsgyWGQLiae6PUZ-gOvVw7iYWFMhusANiQ4M2C0ZMyZL3Yebv73DwQTBMSw5kHDYOwjn2-614eloAZDM24qYpXm-EkkIGuKKa0-elZfAl6bxadc8SeA9w</con:request><con:originalUri>https://localhost/node2/verifyCookie</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="1ddd3f76-5ee1-4206-b992-099aa642c600" name="Valid HTTP Status Codes"><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" id="f5cb1951-a4b0-4ea7-ba7d-c4e867a22bf2" name="Contains"><con:configuration><token>Verified</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="adfc64d2-3632-4078-b476-861f254ab937" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Send header TestCase : Negative" searchProperties="true"><con:description>For testing of cookies for gateway for private routes</con:description><con:settings/><con:testStep type="restrequest" name="FetchBearerToken" id="a0fe4708-9e80-4bf8-aef1-06244a5a4da5"><con:settings/><con:config service="Auth Service Endpoint" resourcePath="/oauth2/token" methodName="Token 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchBearerToken" id="dc5648f8-ba0f-48b8-8452-0762305125eb" mediaType="application/x-www-form-urlencoded" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Basic RzgwSWkzblZZNnhCaG1MOXViSWQ6YnNVX0x6M3hsRFNrQnpFYm82azRTVEJjZkZ6SmxsVy1Vbi10YjdPLQ==" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>${#Project#auth_server_url}</con:endpoint><con:request/><con:originalUri>http://localhost/oauth2/token</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="delay" name="WaitForResponse" id="f4dadee9-a01c-4d65-ac84-490295d58048" disabled="true"><con:settings/><con:config><delay>500</delay></con:config></con:testStep><con:testStep type="transfer" name="TransferToken" id="2aa7b669-3b12-4f88-b862-136d5cd83d8c"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>BearerToken</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>FetchBearerToken</con:sourceStep><con:sourcePath>$.access_token</con:sourcePath><con:targetType>auth_token</con:targetType><con:targetStep>Properties</con:targetStep><con:targetPath/><con:type>JSONPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="properties" name="Properties" id="7403ed91-53b3-4f47-904f-d4b2b40a6ae8"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>auth_token</con:name><con:value>eyJhbGciOiJSUzI1NiIsImtpZCI6Ing4WTQwRjdOeWswZ1BXMVRCN2M0QlI0NGN4MGVya1RiZFJuM2Z1YXFkdjgifQ.eyJ2ZXIiOjEsImp0aSI6IkFULkhFa1lIaTZxbTFlMzJNckctSzlKbExqZXhia05mZmx5VHd2NGZVT2JoX1EiLCJpc3MiOiJodHRwczovL2F0aGVuYWhlYWx0aHBvYy5va3RhLmNvbS9vYXV0aDIvYXVzMTNrYnRqNEhBZEkzNDUxdDciLCJhdWQiOiJodHRwczovL2lhbS5hdGhlbmFoZWFsdGguY29tIiwiaWF0IjoxNDkwMDc2MjEyLCJleHAiOjE0OTAwNzk4MTIsImNpZCI6Ikc4MElpM25WWTZ4QmhtTDl1YklkIiwic2NwIjpbImRlbW9zY29wZTEiXSwic3ViIjoiRzgwSWkzblZZNnhCaG1MOXViSWQiLCJoZWxwVXNlciI6ImFqb2dlc2h3YXJAYXRoZW5haGVhbHRoLmNvbSJ9.J5btnX0IAfoMF24LW3qtBm7NyORTUY7NSXvvrEstUxtD7RWKBn_S2S9K84O8u_wQtmiYHlxF0r_ZQx7oDcBR_RTmp8QpQOFjdZUbosPQbW88BsdbNByslyuA2BnBfktteFngluDIW08sg2_DKbjSszy5Ln5lTZELq2KUkTVesCY_UmhJCqC_jOZFTZLLjFcezxtqIkX6lS57ywOIPEh9UQ9oyT955Dzj8WzaJh5fei_rgPOXP6AtZxGbvt4xkvFjoiFckhqvEwAZVUYfSRYuQVoEA82r-0ovPibBaSm1PU24JU5CNSO722sc0F-mFsJQftbSYnl8KXvhVL3---cBmA</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="restrequest" name="readHeader" id="7c5321f2-a03f-48ae-ae03-0e2f128b0d33"><con:settings/><con:config service="Gateway Private Services" resourcePath="/${#Project#client_name}/readHeader" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="readHeader" id="08e8b584-1aca-43ff-a72c-146e17fb2524" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${Properties#auth_token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>${#Project#Server_url}</con:endpoint><con:request/><con:originalUri>https://localhost/node2/readHeader</con:originalUri><con:assertion type="Simple Contains" id="7c4ab1a7-8983-404b-ae99-378674c2cadd" name="Contains"><con:configuration><token>Uh-Oh</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" id="1e964083-8122-4225-a542-25090afe6a71" name="Valid HTTP Status Codes"><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="18961d89-14cf-46f0-9ac2-e65ef3ab8d28" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Send header TestCase : Positive" searchProperties="true"><con:description>For testing of hedaers for gateway for private routes</con:description><con:settings/><con:testStep type="restrequest" name="FetchBearerToken" id="eee33122-8108-4497-821c-896199a78c7e"><con:settings/><con:config service="Auth Service Endpoint" resourcePath="/oauth2/token" methodName="Token 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchBearerToken" id="dc5648f8-ba0f-48b8-8452-0762305125eb" mediaType="application/x-www-form-urlencoded" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Basic RzgwSWkzblZZNnhCaG1MOXViSWQ6YnNVX0x6M3hsRFNrQnpFYm82azRTVEJjZkZ6SmxsVy1Vbi10YjdPLQ==" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>${#Project#auth_server_url}</con:endpoint><con:request/><con:originalUri>http://localhost/oauth2/token</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="delay" name="WaitForResponse" id="86237cfb-8caa-43c5-bdfb-f2582b38e38a" disabled="true"><con:settings/><con:config><delay>500</delay></con:config></con:testStep><con:testStep type="transfer" name="TransferToken" id="e701600f-fb95-4f05-912d-8f8de75a985e"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>BearerToken</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>FetchBearerToken</con:sourceStep><con:sourcePath>$.access_token</con:sourcePath><con:targetType>auth_token</con:targetType><con:targetStep>Properties</con:targetStep><con:targetPath/><con:type>JSONPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="properties" name="Properties" id="8a96f3e4-8bfb-4e6f-a8eb-dc851f3349ad"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>auth_token</con:name><con:value>eyJhbGciOiJSUzI1NiIsImtpZCI6Ing4WTQwRjdOeWswZ1BXMVRCN2M0QlI0NGN4MGVya1RiZFJuM2Z1YXFkdjgifQ.eyJ2ZXIiOjEsImp0aSI6IkFULjNtVlRtZU1WSFE4NVNyRFNxekk4dDJubmVRRmRMZWFySWRJU1BfRXRydGciLCJpc3MiOiJodHRwczovL2F0aGVuYWhlYWx0aHBvYy5va3RhLmNvbS9vYXV0aDIvYXVzMTNrYnRqNEhBZEkzNDUxdDciLCJhdWQiOiJodHRwczovL2lhbS5hdGhlbmFoZWFsdGguY29tIiwiaWF0IjoxNDkwMDc2MjI1LCJleHAiOjE0OTAwNzk4MjUsImNpZCI6Ikc4MElpM25WWTZ4QmhtTDl1YklkIiwic2NwIjpbImRlbW9zY29wZTEiXSwic3ViIjoiRzgwSWkzblZZNnhCaG1MOXViSWQiLCJoZWxwVXNlciI6ImFqb2dlc2h3YXJAYXRoZW5haGVhbHRoLmNvbSJ9.ZQSVzKddJnbqNxXXTUcPoyVWGRN9ns0kmFuYgy-Ru1V7wDJ_0hC7hGZY4aku6XBoT5hpIoiVf2cnVbJcR4MPSaeTblUJxzy8HPVJMfuZnR5QJLdPB5rh768e5JX1TGNiA5MH2IKEYcFHt6MTcLn8Ds7RiiiVCEedrGgzUmSSZB5U_2UW4qK7BnqXTZSv-fg89HGCNqHStYRLuXZJenAh-ZfJl67dP3b3ikzx5qcZMEkRtOd-g67vb6yHgSJc6YP6KfZ7T3a2ZRyI93hDhVjglrDTAvORdS-CQ-lDcVbm8anqWvB8hdtrw5jjyqsIR4eiM0a3HhGdyeCTBvyfviCEKg</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="restrequest" name="readHeader" id="715acbba-9876-4a0a-bd49-b52be6c4c4d6"><con:settings/><con:config service="Gateway Private Services" resourcePath="/${#Project#client_name}/readHeader" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="readHeader" id="08e8b584-1aca-43ff-a72c-146e17fb2524" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${Properties#auth_token}"/>
  &lt;con:entry key="X-MyCustom-Header" value="C3PO"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>${#Project#Server_url}</con:endpoint><con:request/><con:originalUri>https://localhost/node2/readHeader</con:originalUri><con:assertion type="Simple Contains" id="7c4ab1a7-8983-404b-ae99-378674c2cadd" name="Contains"><con:configuration><token>Success</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" id="1e964083-8122-4225-a542-25090afe6a71" name="Valid HTTP Status Codes"><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="30352cbd-e965-47dd-aa89-e079a80fddf7" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Header TestCase : Private" searchProperties="true"><con:description>For testing of hedaers for gateway for private routes</con:description><con:settings/><con:testStep type="restrequest" name="FetchBearerToken" id="0e42553d-9c0c-4cdd-965c-fc1deff18c67"><con:settings/><con:config service="Auth Service Endpoint" resourcePath="/oauth2/token" methodName="Token 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchBearerToken" id="dc5648f8-ba0f-48b8-8452-0762305125eb" mediaType="application/x-www-form-urlencoded" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Basic RzgwSWkzblZZNnhCaG1MOXViSWQ6YnNVX0x6M3hsRFNrQnpFYm82azRTVEJjZkZ6SmxsVy1Vbi10YjdPLQ==" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>${#Project#auth_server_url}</con:endpoint><con:request/><con:originalUri>http://localhost/oauth2/token</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="delay" name="WaitForResponse" id="bc776ff0-b61c-4b83-89ae-fb063df62654" disabled="true"><con:settings/><con:config><delay>500</delay></con:config></con:testStep><con:testStep type="transfer" name="TransferToken" id="b6a80466-2e03-40ec-8254-5faa665e4178"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>BearerToken</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>FetchBearerToken</con:sourceStep><con:sourcePath>$.access_token</con:sourcePath><con:targetType>auth_token</con:targetType><con:targetStep>Properties</con:targetStep><con:targetPath/><con:type>JSONPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="properties" name="Properties" id="319d7646-7cb2-4417-aabd-1d81b1b57cd4"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>auth_token</con:name><con:value>eyJhbGciOiJSUzI1NiIsImtpZCI6Ing4WTQwRjdOeWswZ1BXMVRCN2M0QlI0NGN4MGVya1RiZFJuM2Z1YXFkdjgifQ.eyJ2ZXIiOjEsImp0aSI6IkFULld5dUdkV0g0cmZSZ09FNlUxSkh2ZlZteV94ckNnVDJDSURhVFQxbHZlSXMiLCJpc3MiOiJodHRwczovL2F0aGVuYWhlYWx0aHBvYy5va3RhLmNvbS9vYXV0aDIvYXVzMTNrYnRqNEhBZEkzNDUxdDciLCJhdWQiOiJodHRwczovL2lhbS5hdGhlbmFoZWFsdGguY29tIiwiaWF0IjoxNDkwMDc2MjY0LCJleHAiOjE0OTAwNzk4NjQsImNpZCI6Ikc4MElpM25WWTZ4QmhtTDl1YklkIiwic2NwIjpbImRlbW9zY29wZTEiXSwic3ViIjoiRzgwSWkzblZZNnhCaG1MOXViSWQiLCJoZWxwVXNlciI6ImFqb2dlc2h3YXJAYXRoZW5haGVhbHRoLmNvbSJ9.AYvwYFgSKOagFshz6RLVu8i6802Lk2EPPTFFYt2UMSJQK3U85tZkg_P6uyQVTt7_ymaE7nvPwk9kGsGYTk47JSnN9R-sYBvHdN5KfHRTKi8vzW7DdT8heU42VHZneDI8uqioN4eQ217fgvCvAfLgZ7e6IIWKE3utbZ37RVCyjkJNDAL-5QuQQ7NtxWzhAYoymnJIp422xk7Pb0ZDuI6IgAQ_5fGzfcgkVmX1BQLfHXEAql1Yl0YOzKCsXhvPrfl9W1_-eD_3CNGU6AyZkfIwV08r0IIhtSAoLftxONspNBBF6M5mp8I09X4vZSz_AeoG_rrvkQtrjflSJtoocFnUHQ</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="restrequest" name="SetHeader" id="96f130f9-8807-4232-88a1-66b57c47062f"><con:settings/><con:config service="Gateway Private Services" resourcePath="/${#Project#client_name}/setHeader" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="SetHeader" id="cdd62b67-de01-4d06-aa0e-1833d8384284" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${Properties#auth_token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>${#Project#Server_url}</con:endpoint><con:request/><con:originalUri>https://localhost/node2/setHeader</con:originalUri><con:assertion type="Simple Contains" id="833bf7c1-73f5-49fb-82ca-a53fb9c7f5c5" name="Contains"><con:configuration><token>Setting headers</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" id="74e75424-1158-421a-9ac9-7434f15036f8" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="verifyHeader" id="482f4194-288d-4b5c-9f7f-5a986fd3baec"><con:settings/><con:config><script>def customHeader = testRunner.testCase.testSteps["SetHeader"].testRequest.response.responseHeaders["X-MyCustom-Header"]

def customHeaderVal = customHeader[0]

log.info ("This is the value:" + customHeaderVal)

assert customHeaderVal == "C3PO"
</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="720aab0e-9f51-47e8-84ef-9f1bd600033a" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Health TestCase" searchProperties="true"><con:description>Health check for client</con:description><con:settings/><con:testStep type="restrequest" name="FetchBearerToken" id="bfceb3b6-9f9c-4f59-acff-0c6abd499451"><con:settings/><con:config service="Auth Service Endpoint" resourcePath="/oauth2/token" methodName="Token 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FetchBearerToken" id="dc5648f8-ba0f-48b8-8452-0762305125eb" mediaType="application/x-www-form-urlencoded" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Basic RzgwSWkzblZZNnhCaG1MOXViSWQ6YnNVX0x6M3hsRFNrQnpFYm82azRTVEJjZkZ6SmxsVy1Vbi10YjdPLQ==" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>${#Project#auth_server_url}</con:endpoint><con:request/><con:originalUri>http://localhost/oauth2/token</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="delay" name="WaitForResponse" id="ae7098a4-60f1-441f-8a01-86e1cfdd4cd6" disabled="true"><con:settings/><con:config><delay>500</delay></con:config></con:testStep><con:testStep type="transfer" name="TransferToken" id="ba9b8c76-b601-4ba0-bbee-3edd8c7563df"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>BearerToken</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>FetchBearerToken</con:sourceStep><con:sourcePath>$.access_token</con:sourcePath><con:targetType>auth_token</con:targetType><con:targetStep>Properties</con:targetStep><con:targetPath/><con:type>JSONPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="properties" name="Properties" id="44d957ff-9a4f-4fed-aa6a-19c8d19790ed"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>auth_token</con:name><con:value>eyJhbGciOiJSUzI1NiIsImtpZCI6Ing4WTQwRjdOeWswZ1BXMVRCN2M0QlI0NGN4MGVya1RiZFJuM2Z1YXFkdjgifQ.eyJ2ZXIiOjEsImp0aSI6IkFULjkta2lSNDRsOFpGcE5sMlBEcUdFUElCbGYybFJGajlyd2J4MFJ0SmxPTnciLCJpc3MiOiJodHRwczovL2F0aGVuYWhlYWx0aHBvYy5va3RhLmNvbS9vYXV0aDIvYXVzMTNrYnRqNEhBZEkzNDUxdDciLCJhdWQiOiJodHRwczovL2lhbS5hdGhlbmFoZWFsdGguY29tIiwiaWF0IjoxNDkwMDc3NDY0LCJleHAiOjE0OTAwODEwNjQsImNpZCI6Ikc4MElpM25WWTZ4QmhtTDl1YklkIiwic2NwIjpbImRlbW9zY29wZTEiXSwic3ViIjoiRzgwSWkzblZZNnhCaG1MOXViSWQiLCJoZWxwVXNlciI6ImFqb2dlc2h3YXJAYXRoZW5haGVhbHRoLmNvbSJ9.YyAlbyiG8PIcN2_Nf8AQ3GpJWhVqTjOdia7kER9X4-NZK-8ikPVe9cMY5EAPD5Xx-l5Sy_aP5pVSxWdRQKouaS8KbGJfnmv7Z6b4HOcwNH5snB0adecWsU9bc30LErYR3zE7r6hVYEoKH65uf99Ek4XMVsel3E3Dxf5QlQo0UJt83Zo_c8Up5UU8AItYCsNlN99tfnMRkQjsAVXnB8VXt31S75aFb7kSwId-GaGCTxKcpSeLEiRH59Px4VDjE8sh1kNAmQnf3g4qdlLd1fsYnHtSQqlm0lM3kwJxNCvbBP5FD156PnC-GRbiMJpC9FzPsVlvZw4CRtE09WrP3inCEg</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="restrequest" name="readHeader" id="b909b31f-08f8-4e65-90cd-ecf60010d71d"><con:settings/><con:config service="Gateway Private Services" resourcePath="/${#Project#client_name}/health" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="readHeader" id="08e8b584-1aca-43ff-a72c-146e17fb2524" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer ${Properties#auth_token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>${#Project#Server_url}</con:endpoint><con:request/><con:originalUri>https://localhost/node2/readHeader</con:originalUri><con:assertion type="Simple Contains" id="7c4ab1a7-8983-404b-ae99-378674c2cadd" name="Contains"><con:configuration><token>UP</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" id="1e964083-8122-4225-a542-25090afe6a71" name="Valid HTTP Status Codes"><con:configuration><codes>200
</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:properties><con:property><con:name>Server_url</con:name><con:value>https://localhost:18443</con:value></con:property><con:property><con:name>auth_server_url</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">http://localhost:20020</con:value></con:property><con:property><con:name>gateway_host</con:name><con:value>localhost</con:value></con:property><con:property><con:name>gateway_port</con:name><con:value>18443</con:value></con:property><con:property><con:name>auth_server_port</con:name><con:value>20020</con:value></con:property><con:property><con:name>client_name</con:name><con:value>simple-java-client</con:value></con:property></con:properties><con:wssContainer/><con:oAuth2ProfileContainer/><con:oAuth1ProfileContainer/><con:sensitiveInformation/></con:soapui-project>